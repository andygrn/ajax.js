(function(k){'use strict';var g;g=function(a){var e=[];if(a.constructor==Array)for(var b=0;b<a.length;b++)e.push(a[b].name+"="+encodeURIComponent(a[b].value));else for(b in a)e.push(b+"="+encodeURIComponent(a[b]));return e.join("&")};k.ajax=function(a){function e(a,b){var c=a.getResponseHeader("content-type"),c=!b&&c&&0<=c.indexOf("xml"),c="xml"==b||c?a.responseXML:a.responseText;"script"==b&&eval.call(window,c);return c}a={type:a.type||"POST",url:a.url||"",timeout:a.timeout||5E3,onSuccess:a.onSuccess||function(){},onComplete:a.onComplete||function(){},onError:a.onError||function(){},data:a.data||null,headers:a.headers||[]};var b=new XMLHttpRequest;b.open(a.type,a.url,!0);b.setRequestHeader("X-Requested-With","XMLHttpRequest");for(var d=0;d<a.headers.length;d++)b.setRequestHeader(a.headers[d][0],a.headers[d][1]);var h=!1;setTimeout(function(){h=!0},a.timeout);b.onreadystatechange=function(){if(4==b.readyState&&!h){var d;a:{var f=b;try{d=!f.status&&"file:"==location.protocol||200<=f.status&&300>f.status||304==f.status||0<=navigator.userAgent.indexOf("Safari")&&"undefined"==typeof f.status;break a}catch(c){}d=!1}if(d)a.onSuccess(e(b,a.type));else a.onError();a.onComplete();b=null}};"POST"===a.type?b.send(g(a.data)):b.send(null)}})(window);