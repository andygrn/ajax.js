(function(){var g;g=function(a){var d=[];if(a.constructor==Array)for(var b=0;b<a.length;b++)d.push(a[b].name+"="+encodeURIComponent(a[b].value));else for(b in a)d.push(b+"="+encodeURIComponent(a[b]));return d.join("&")};this.ajax=function(a){function d(a,b){var c=a.getResponseHeader("content-type"),c=!b&&c&&c.indexOf("xml")>=0,c=b=="xml"||c?a.responseXML:a.responseText;b=="script"&&eval.call(window,c);return c}var a={type:a.type||"POST",url:a.url||"",timeout:a.timeout||5E3,onSuccess:a.onSuccess||
  function(){},onComplete:a.onComplete||function(){},onError:a.onError||function(){},data:a.data||null},b=new XMLHttpRequest;b.open(a.type,a.url,!0);b.setRequestHeader('X-Requested-With','XMLHttpRequest');var h=!1;setTimeout(function(){h=!0},a.timeout);b.onreadystatechange=function(){if(b.readyState==4&&!h){var f;a:{var e=b;try{f=!e.status&&location.protocol=="file:"||e.status>=200&&e.status<300||e.status==304||navigator.userAgent.indexOf("Safari")>=0&&typeof e.status=="undefined";break a}catch(c){}f=!1}if(f)a.onSuccess(d(b,a.type));else a.onError();a.onComplete();
    b=null}};a.type==="POST"?b.send(g(a.data)):b.send(null)}})();
